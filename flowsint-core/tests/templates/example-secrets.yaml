name: api-with-secrets
category: Ip
version: 1.0
input:
  type: Ip
  key: address
secrets:
  - name: API_KEY
    required: true
    description: API key for the service
request:
  method: GET
  url: https://api.example.com/lookup/{{address}}
  headers:
    Authorization: "Bearer {{secrets.API_KEY}}"
  timeout: 30
output:
  type: Ip
response:
  expect: json
  map:
    address: ip
    country: country
